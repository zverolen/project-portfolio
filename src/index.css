@layer reset, tokens, general, specific, theme.light, theme.dark, states, overrides;

@import url("font.css");
@import url("tokens.css") layer(tokens);
@import url("reset.css") layer(reset);

@layer overrides {
  /* Visually hidden elements are visible to screen readers */
  .visually-hidden {
    clip-path: inset(100%);
    clip: rect(1px, 1px, 1px, 1px);
    height: 1px;
    overflow: hidden;
    position: absolute;
    white-space: nowrap;
    width: 1px;
  }
}

@media (prefers-color-scheme: light) {
  @layer theme.light {
    :root {
      --site-text-color: var(--colorBlack);
      --site-background-color: var(--colorWhite);
      --skills-background-color: var(--colorGreyLight);
      --accent-color: var(--colorPurple);
      --text-link-color: var(--colorGreyDark);
      --footer-background-color: var(--site-text-color);
      --decorative-color-I: var(--colorRed);
      --decorative-color-II: var(--colorBlue);
    }

    body {
      --text-color: var(--site-text-color);
      --background-color: var(--site-background-color)
    }

    /* h1 span:nth-child(1), h1 span:nth-child(3) {
      --text-color: var(--site-background-color);
    }

    h1 span:nth-child(1) {
      --background-color: var(--decorative-color-I);
    }

    h1 span:nth-child(2) {
      --text-color: var(--accent-color);
    }

    h1 span:nth-child(3) {
      --background-color: var(--decorative-color-II);
    } */

    header svg {
      --stroke-color: var(--accent-color);
      --fill-color: transparent;
    }

    .skills {
      --background-color: var(--skills-background-color);
    }

    .skills div:nth-child(1)::after {
      --border-color: var(--accent-color);
    }

    .projects > div:nth-child(1) {
      --background-color: var(--accent-color);
      --text-color: var(--site-background-color);
    }

    .projects > div:nth-child(1)::after {
      --border-color: var(--site-text-color);
    }

    .project {
      --border-color: var(--site-text-color);
    }

    .project svg rect:nth-child(1) {
      --fill-color: var(--decorative-color-I);
      --stroke-color: var(--fill-color);
    }

    .project svg rect:nth-child(2) {
      --fill-color: var(--decorative-color-II);
      --stroke-color: var(--fill-color);
    }

    .project svg rect:nth-child(3) {
      --fill-color: none;
      --stroke-color: var(--site-text-color);
    }

    .project a {
      --text-color: var(--text-link-color);
      --background-color: var(--text-background-color);
    }

    button {
      --text-color: var(--site-text-color);
      --background-color: var(--site-background-color);
      --border-color: var(--site-text-color);
    }

    .about, footer {
      --background-color: var(--site-text-color);
      --text-color: var(--site-background-color);
    }

    footer path {
      --stroke-color: var(--site-background-color);
      --fill-color: var(--footer-background-color);
    }
  }
}

@media (prefers-color-scheme: dark) {
  @layer theme.light {
    :root {
      --site-text-color: var(--colorBlack);
      --site-background-color: var(--colorWhite);
      --skills-background-color: var(--colorGreyLight);
      --accent-color: var(--colorPurple);
      --text-link-color: var(--colorGreyDark);
      --footer-background-color: var(--site-text-color);
      --decorative-color-I: var(--colorRed);
      --decorative-color-II: var(--colorBlue);
    }

    body {
      --text-color: var(--site-text-color);
      --background-color: var(--site-background-color)
    }

    /* h1 > span:nth-child(1), h1 > span:nth-child(3) {
      --text-color: var(--site-background-color);
    } */

    /* h1 > span:nth-child(1) {
      --background-color: var(--decorative-color-I);
    }

    h1 > span:nth-child(2) {
      --text-color: var(--accent-color);
    }

    h1 > span:nth-child(3) {
      --background-color: var(--decorative-color-II);
    } */


    header svg {
      --stroke-color: var(--accent-color);
      --fill-color: var(--site-background-color);
    }

    .skills {
      --background-color: var(--skills-background-color);
    }

    .skills div:nth-child(1)::after {
      --border-color: var(--accent-color);
    }

    .projects > div:nth-child(1) {
      --background-color: var(--accent-color);
      --text-color: var(--site-background-color);
    }

    .projects > div:nth-child(1)::after {
      --border-color: var(--site-text-color);
    }

    .project {
      --border-color: var(--site-text-color);
    }

    .project svg rect:nth-child(1) {
      --fill-color: var(--decorative-color-I);
      --stroke-color: var(--fill-color);
    }

    .project svg rect:nth-child(2) {
      --fill-color: var(--decorative-color-II);
      --stroke-color: var(--fill-color);
    }

    .project svg rect:nth-child(3) {
      --fill-color: none;
      --stroke-color: var(--site-text-color);
    }

    .project a {
      --text-color: var(--text-link-color);
      --background-color: var(--text-background-color);
    }

    button {
      --text-color: var(--site-text-color);
      --background-color: var(--site-background-color);
      --border-color: var(--site-text-color);
    }

    .about, footer {
      --background-color: var(--site-text-color);
      --text-color: var(--site-background-color);
    }

    footer path {
      --stroke-color: var(--site-background-color);
      --fill-color: var(--footer-background-color);
    }
  }
}

@layer general {
  body {
    font-family: var(--body-text-font-family);
    font-size: clamp(var(--textSizeMin), var(--textSizeIdeal), var(--textSizeMax));
    font-weight: var(--fontWeightPrimary);

    color: var(--text-color);
    background-color: var(--background-color);
  }

  @media (prefers-reduced-motion: no-preference) {
    a, path, button {
      transition: all 0.3s ease-out;
    }
  }

  a:has(svg) {
    display: inline-block;

    width: var(--link-icon-size);
    height: var(--link-icon-size);

    cursor: pointer;
  }

  /* Temp fix for Firefox */
  header a, footer a {
    display: inline-block;

    width: var(--link-icon-size);
    height: var(--link-icon-size);

    cursor: pointer;
  }
  
  h1, h2, h3 {
    font-weight: var(--fontWeightSecondary);
  }

  header {
    padding-block-end: var(--header-padding);
  }
  
  h1 {
    font-family: var(--heading-font-family);
  }

  /* h1 span:nth-child(1) {
    color: var(--text-color);
    background-color: var(--background-color);
  }

  h1 span:nth-child(2) {
    color: var(--text-color);
  }

  h1 span:nth-child(3) {
    color: var(--text-color);
    background-color: var(--background-color);
  } */

  h1 > span:nth-child(1) {
    position: relative;
    display: block;

    font-size: clamp(2rem, 10vw, 5.625rem);
  }

  h1 > span:nth-child(1)::after {
    content: "";
    position: absolute;
    top: 0;
    z-index: -1;
    width: 93.75vw;
    height: 100%;
    margin-right: auto;
    background-color: #D3715C;
  }

  h1 > span:nth-child(1) span {
    display: block;
    /* display: block;
    
    margin-inline: var(--centering-margin);
    width: var(--site-width); */
    padding-top: 1.4444444444em;

    color: var(--site-background-color);
  }

  h1 > span:nth-child(2) {
    display: block;
    font-size: clamp(1.5rem, 7.1vw, 4rem);
  }

  h1 > span:nth-child(2) span::after {
    content: "";
    position: absolute;
    left: -0.21875em;
    top: -0.15625em;
    display: block;
    width: 200%;
    height: 2.65625em;
    border-width: min(0.3571428571vw, 0.125rem);
    border-right-width: 0;
    border-color: #462255;
    border-style: solid;
  }

  h1 > span:nth-child(2) span {
    display: block;
    /* display: block;
    margin-left: auto;
    margin-right: auto;
    width: min(80rem, 100vw - 2rem); */
    position: relative;
    color: #462255;
  }

  h1 > span:nth-child(3) {
    display: block;

    position: relative;
    /* margin-left: auto;
    margin-right: auto;
    width: min(80rem, 100vw - 2rem); */
    font-size: clamp(1.5rem, 7.1vw, 4rem);
  }

  h1 > span:nth-child(3)::after {
    content: "";
    position: absolute;
    top: 0;
    left: 60px;
    z-index: -1;
    width: 100vw;
    height: 100%;
    margin-left: auto;
    background-color: #639CA8;
    
  }

  h1 > span:nth-child(3) span {
    display: block;
    
    padding-bottom: 1.09375em;
    padding-left: 0.125em;
    margin-left: 60px;
    color: var(--site-background-color);
  }
  
  /* header a {
    display: inline-block;
    width: clamp(3.125rem, 10.2222222222vw, 5.875rem);
    height: clamp(3.125rem, 10.2222222222vw, 5.875rem);
    cursor: pointer;
  } */

  h1 + div {
    display: flex;
    column-gap: var(--link-gap);

    /* width: var(--site-width);
    margin-inline: var(--centering-margin); */
    margin-block-start: min(-1.3333333333vw, -0.75rem);
  }
  
  header svg {
    width: 100%;
    stroke: var(--stroke-color);
    stroke-width: min(0.3571428571vw, 0.125rem);
    fill: var(--fill-color);
  }

  .skills {
    position: relative;

    display: flex;
    flex-direction: column;
    row-gap: min(var(--skills-gap-min), var(--skills-gap-max));

    padding-bottom: min(var(--skills-padding-bottom-min), var(--skills-padding-bottom-max));
    
    background-color: var(--background-color);
  }

  .skills > div:nth-child(1) {
    position: relative;

    display: flex;
    flex-direction: column;
    justify-content: center;
    
    width: var(--skillsHeadingWidth);
    margin-inline: var(--centering-margin);
    font-size: clamp(var(--skillsHeadingFontMin), var(--skillsHeadingFontIdeal), var(--skillsHeadingFontMax));
  }

  .skills div:nth-child(1)::after {
    content: "";
    position: absolute;
    height: var(--skillsHeadingFrameHeight);
    width: var(--fullWidth);
    border: var(--border-width) var(--border-color) solid;
  }

  .skills h2 {
    margin: var(--resetMargin);

    text-align: center;
    font-size: inherit;
  }

  .skills ul {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    column-gap: var(--skillsHorizontalGap);
    row-gap: var(--skillsVerticalGap);

    /* width: var(--site-width);
    margin-inline: var(--centering-margin); */
  }

  .skills li {
    text-transform: var(--skillsTextTransform);
  }

  .skills ul:nth-of-type(1) li {
    font-size: clamp(var(--skillPrimaryFontMin), var(--skillPrimaryFontIdeal), var(--skillPrimaryFontMax));
  }

  .skills ul:nth-of-type(2) li {
    font-size: var(--secondary-skill-font-size);
  }

  .projects > div:nth-child(1) {
    position: relative;

    font-size: clamp(var(--headingTwoFontMin), var(--headingTwoFontIdeal), var(--headingTwoFontMax));
    background-color: var(--background-color);
  }

  .projects > div:nth-child(1)::after {
    content: "";
    position: absolute;
    left: var(--resetNumber);
    bottom: var(--verticalCenteringBottom);
    transform: var(--verticalCenteringTranslate);

    width: var(--projectsHeadingFrameWidth);
    height: var(--projectsHeadingFrameHeight);

    border: var(--border-width) var(--border-color) solid;
    border-left-width: var(--resetNumber);
  }

  .projects h2 {
    /* width: var(--site-width);
    margin-inline: var(--centering-margin); */

    font-family: var(--heading-font-family);
    font-size: inherit;
    color: var(--text-color);
  }

  .projects > div:first-child + p {
    /* width: var(--site-width);
    margin-inline: var(--centering-margin); */
    margin-block-start: min(var(--projectsNoteMarginTopMin), var(--projectsNoteMarginMax));
    margin-block-end: min(var(--projectsNoteMarginBottomMin), var(--projectsNoteMarginMax));
  }

  .projects > ul {
    display: flex;
    flex-direction: column;
    row-gap: var(--projects-gap);

    /* width: var(--site-width);
    margin-inline: var(--centering-margin); */
  }

  .project {
    display: flex;
    flex-wrap: wrap;
    justify-content: space-between;
    align-items: center;
    row-gap: var(--projects-gap);

    padding: var(--projects-gap);

    border: var(--border-width) var(--border-color) solid;
  }

  .project > div {
    display: flex;
    flex-direction: column;
    row-gap: var(--projects-gap);
  }

  .project h3 + div {
    display: flex;
    flex-direction: column;
    row-gap: var(--projects-gap);
  }

  .projects h3, .projects h4 {
    font-size: var(--subheading-font-size);
  }

  .projects img {
    margin-block-end: var(--gap-II);
  }

  .project h3 + div > div, .project ul {
    display: flex;
    flex-direction: column;
    row-gap: var(--project-features-gap);
  }

  .project li {
    display: flex;
    align-items: baseline;
    column-gap: var(--project-features-gap);

    list-style: none;
  }

  .project li span:nth-child(1) {
    flex-shrink: 0;
  }

  .project svg {
    width: var(--project-bullet-size);
    height: var(--project-bullet-size);
  }

  .project svg rect {
    fill: var(--fill-color);
    stroke: var(--stroke-color);
  }

  .project a {
    font-weight: var(--fontWeightAlternative);
    color: var(--text-color);
    background-color: var(--background-color);
  }

  button {
    padding: var(--buttonPadding);

    font-family: var(--body-text-font-family);
    font-size: var(--secondary-skill-font-size);
    text-decoration: underline;
    font-weight: var(--fontWeightPrimary);

    color: var(--text-color);
    background-color: var(--background-color);

    border: var(--border-width) solid var(--border-color);
    
    cursor: pointer;
  }

  .about {
    padding-top: var(--about-padding);

    color: var(--text-color);
    background-color: var(--background-color);
  }

  .about > div:nth-child(1) {
    position: relative;

    font-size: clamp(var(--headingTwoFontMin), var(--headingTwoFontIdeal), var(--headingTwoFontMax));
    background-color: var(--site-background-color);
  }

  .about > div:nth-child(1)::after {
    content: "";
    position: absolute;
    left: var(--resetNumber);
    bottom: var(--verticalCenteringBottom);
    transform: var(--verticalCenteringTranslate);

    width: var(--projectsHeadingFrameWidth);
    height: var(--projectsHeadingFrameHeight);

    border: var(--border-width) var(--site-background-color) solid;
    border-left-width: var(--resetNumber);
  }

  .about h2 {
    /* width: var(--site-width);
    margin-inline: var(--centering-margin); */

    font-family: var(--heading-font-family);
    font-size: inherit;
    color: var(--site-text-color);
  }

  .about > div:nth-child(2) {
    /* width: var(--site-width);
    margin-inline: var(--centering-margin); */
    padding-top: var(--about-padding);
  }

  .about img {
    width: var(--about-image-size);
    height: var(--about-image-size);
    margin-inline: var(--centering-margin);
    margin-block-end: var(--about-gap);
    /* margin-block-end: min(4rem, 7.1111111111vw); */
  }

  .about p:not(p:last-of-type) {
    margin-block-end: var(--about-text-gap);
  }
  
  footer {
    padding-block: var(--about-gap) var(--about-padding);
    color: var(--text-color);
    background-color: var(--background-color);
  }

  /* footer > div {
    width: var(--site-width);
    margin-inline: var(--centering-margin);
  } */

  footer h2 {
    margin-block-end: var(--about-text-gap);
    font-size: var(--subheading-font-size);
  }

  footer h2 + div {
    display: flex;
    column-gap: var(--contact-links-gap);
  }
  
  footer svg {
    width: var(--fullWidth);

    fill: none;
    stroke-width: var(--border-width);
  }

  footer path {
    stroke: var(--stroke-color);
    fill: var(--fill-color);
  }
}

@layer specific {
  .site-frame {
    /* display: block; */
    
    margin-inline: var(--centering-margin);
    width: var(--site-width);
  }
}

@layer states {
  header a:hover svg, header a:focus-visible svg {
    --fill-color: var(--accent-color)
  }

  .project a:hover, .project a:focus-visible {
    --text-color: var(--site-background-color);
    --background-color: var(--text-link-color);
  }

  button:hover, button:focus-visible {
    --text-color: var(--site-background-color);
    --background-color: var(--accent-color);
    --border-color: var(--accent-color);

    outline-offset: var(--button-outline-offset);
  }

  footer a:hover path, footer a:focus-visible path{
    --fill-color: var(--site-background-color);
  }
}